# 데이터베이스

<br>

#### 설계 시 고려사항

무결성, 일관성, 회복, 보안, 효율성, 데이터베이스 확장

 <br>

#### 데이터베이스 키 들의 종류

- 슈퍼키는 테이블 내의 레코드를 유일하게 식별가능 하게 해주는 키이고
- 후보키는 최소성을 가지는 슈퍼키다
- 기본키는 후보키중 하나입니다
- 외래키는 다른 테이블을 참조할 때 쓰이는 키입니다.

<br>

#### 정규화

 원자 값이 아닌 도메인분해(1차)-> 부분함수 종속 제거(2차) -> 이행함수 종속 제거(3차) -> 결정자가 후보키가 아닌 함수종속 제거(BCNF) -> 함수종속이 아닌 다치 종속 제거(4차) -> 후보키를 통하지 않는 조인종속 제거(5차)

  <br>

#### Stored Procedure(저장 프로시저)

DB내부에 저장된 일련의 SQL 명령문들을 하나의 함수처럼 실행하기 위한 쿼리의 집합

  <br>

#### Left Outer Join

 Left : 두 개의 테이블에서 같은 것을 조회하고 왼쪽 테이블에만 있는 것을 포함 해서 조회한다. 왼쪽에는 있는데 오른쪽에는 없다면 NULL 값이 들어간다.

  <br>

#### char vs varchar2

Varchar2는 가변길이 이다. Varchar2(100)과 char(100) 이 있을 때 ‘hi’를 집어 넣는다면 varchar2에는 크기2만큼 저장되지만 char에는 hi 뒤에 공백이 붙어 크기 100만큼 저장된다.

  <br>

#### 인덱스(Index, 색인)

 테이블의 데이터를 보다 빠르게 검색할 수 있는 자료구조

B-Tree, B+Tree

- B-Tree : 이진 탐색 트리를 확장한 트리 구조, 각 노드에는 여러 개의 키를 가질 수 있고 여러 개의 Child를 가질 수 있다. 모든 leaf node는 동일한 Depth를 가지고 있다.

- B+Tree : B-Tree 를 개량한 트리구조 inner node에는 key만 저장되고 leaf node에 키와 데이터를 함께 저장, 리프 노드 간의 포인터를 연결하여 순회 기능 강화

  <br>

##### 트랜잭션

- 정의 : 

    데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산들

    데이터베이스 시스템에서 복구 및 병행 수행 시 처리되는 작업의 논리적 단위이다.

- 특징(ACID)
  - Atomicity(원자성) : 트랜잭션의 연산은 데이터베이스에 모두 반영되든지 아니면 전혀 반영되지 않아야 한다.
  - Consistency(일관성) : 트랜잭션이 그 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 변환한다.
  - Isolation(독립성) : 둘 이상의 트랜잭션이 동시에 병행 실행되는 경우 어느 하나의 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없다.
  - Durability(영속성) : 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장 나더라도 영구적으로 반영되어야 한다.

 <br>

#### 뷰(view)

  뷰는 다른 테이블을 기반으로 만들어진 가상 테이블(실제로 저장되지 않는 테이블)이다. 다른 뷰를 기반으로 만들 수도 있다. 질의문을 더 쉽게 작성할 수 있다. 데이터의 보안 유지에 도움, 데이터를 좀더 편리하게 관리

  <br>

#### SQL injection

 웹 사이트의 보안상 허점을 이용해 특정 sql 쿼리 문을 전송하여 공격자가 원하는 데이터베이스의 중요한 정보를 가져오는 해킹 기법